<!doctype html>
<html lang="pt-BR">
  <head>
    <!-- Configurações de Cabeçalho (Metadados, Fontes e Bibliotecas) -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Barber</title>

    <link rel="shortcut icon" href="assets/logo.ico" type="image/x-icon" />
    <link rel="icon" href="assets/logo.ico" type="image/x-icon" />

    <!-- Frameworks Externos (Tailwind, Chart.js, FontAwesome) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Montserrat:wght@700;800&display=swap"
      rel="stylesheet"
    />

    <link rel="manifest" href="manifest.json" />
    <meta name="theme-color" content="#09090B" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent"
    />

    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("service-worker.js")
            .then((reg) => console.log("Service Worker registrado!", reg))
            .catch((err) => console.log("Erro no Registro:", err));
        });
      }
    </script>

    <!-- Configuração do Tema Tailwind -->
    <script>
      window.onerror = function (msg, url, line, col, error) {
        alert("Erro Global: " + msg + "\nURL: " + url + "\nLinha: " + line);
        console.error("Erro Global:", error);
        return false;
      };

      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: {
                primary: "#D4D4D8",
                hover: "#A1A1AA",
                active: "#71717A",
              },
              surface: {
                page: "#09090B",
                section: "#18181B",
                card: "rgba(24, 24, 27, 0.8)",
                subtle: "#27272A",
                elevated: "#3F3F46",
              },
              text: {
                primary: "#FFFFFF",
                secondary: "#A1A1AA",
                muted: "#52525B",
              },
              status: {
                success: "#D1D1D1",
                warning: "#71717A",
                error: "#3F3F46",
              },
              dark: {
                950: "#09090B",
                900: "#18181B",
                800: "#27272A",
              },
              border: {
                default: "transparent",
                subtle: "transparent",
                focus: "rgba(255, 255, 255, 0.1)",
              },
            },
            spacing: {
              1: "4px",
              2: "8px",
              3: "12px",
              4: "16px",
              6: "24px",
              8: "32px",
              12: "48px",
              16: "64px",
              20: "80px",
            },
            borderRadius: {
              sm: "4px",
              md: "6px",
              lg: "8px",
              xl: "12px",
              "2xl": "16px",
            },
            boxShadow: {
              "button-primary": "0 0 0 1px rgba(255, 255, 255, 0.1)",
              card: "0 4px 20px rgba(0, 0, 0, 0.5)",
              "card-hover": "0 10px 30px rgba(0, 0, 0, 0.6)",
            },
            fontFamily: {
              sans: ["Inter", "sans-serif"],
              display: ["Inter", "sans-serif"],
            },
          },
        },
      };
    </script>

    <!-- Estilos CSS (Variáveis e Scrollbars) -->
    <style>
      :root {
        /* Tokens de Cores */
        --text-primary: #ffffff;
        --text-secondary: #a1a1aa;
        --text-muted: #52525b;
        --surface-page: #09090b;
        --surface-section: #18181b;
        --surface-card: rgba(24, 24, 27, 0.8);
        --surface-subtle: #27272a;
        --surface-elevated: #3f3f46;
        --action-primary: #d4d4d8;
        --action-primary-hover: #a1a1aa;
        --action-strong: #ffffff;
        --border-default: transparent;
        --border-subtle: transparent;
        --border-focus: rgba(255, 255, 255, 0.1);

        /* Legacy support for existing variables */
        --bg-950: var(--surface-page);
        --bg-900: var(--surface-section);
        --bg-800: var(--surface-subtle);
      }

      /* Global Border Reset */
      *,
      ::before,
      ::after {
        border-color: transparent !important;
        border-width: 0 !important;
      }

      /* Permite bordas apenas para foco específico se necessário */
      .focus-ring:focus {
        box-shadow: 0 0 0 2px var(--border-focus) !important;
      }

      body {
        background-color: var(--surface-page);
        color: var(--text-primary);
        font-family: "Inter", sans-serif;
      }

      .bg-pattern {
        background-color: var(--surface-page);
        background-image: none;
      }

      .glass-card {
        background: var(--surface-card);
        backdrop-filter: blur(16px);
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.6);
      }

      .glass-card:hover {
        background: var(--surface-subtle);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
      }

      /* Botões Padronizados */
      .btn-primary {
        background-color: var(--action-primary);
        color: #121212;
        padding: 8px 16px;
        border-radius: 8px;
        font-weight: 600;
        box-shadow: 0 4px 12px rgba(245, 158, 11, 0.2);
        transition: all 0.2s;
      }

      .btn-primary:hover {
        background-color: var(--action-primary-hover);
        transform: translateY(-1px);
      }

      .btn-secondary {
        background-color: var(--surface-card);
        color: var(--text-primary);
        border: none;
        padding: 8px 16px;
        border-radius: 8px;
        transition: all 0.2s;
      }

      /* Custom Scrollbar */
      .custom-scroll::-webkit-scrollbar {
        width: 6px;
      }
      .custom-scroll::-webkit-scrollbar-track {
        background: var(--surface-section);
      }
      .custom-scroll::-webkit-scrollbar-thumb {
        background: var(--surface-subtle);
        border-radius: 10px;
      }

      [contenteditable="true"]:focus {
        outline: none;
        background: rgba(255, 255, 255, 0.05);
        box-shadow: none;
        border-radius: 8px;
      }

      [contenteditable="true"]:hover {
        cursor: text;
        background: rgba(255, 255, 255, 0.03);
      }

      [contenteditable="true"] {
        padding: 2px 4px;
        transition: background 0.2s;
        min-height: 1.2rem;
      }

      [contenteditable="true"]:empty:before {
        content: attr(placeholder);
        color: var(--text-muted);
        font-style: italic;
        pointer-events: none;
      }

      .line-clamp-1 {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        overflow: hidden;
        -webkit-line-clamp: 1;
        line-clamp: 1;
      }
      .line-clamp-2 {
        display: -webkit-box;
        -webkit-box-orient: vertical;
        overflow: hidden;
        -webkit-line-clamp: 2;
        line-clamp: 2;
      }

      input[type="date"]::-webkit-calendar-picker-indicator {
        opacity: 0;
        cursor: pointer;
        width: 100%;
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
      }
      input[type="date"] {
        position: relative;
      }

      select option {
        background-color: var(--surface-page);
        color: white;
      }
    </style>
  </head>
  <body class="flex h-screen w-full overflow-hidden m-0">
    <!-- Container Principal do Aplicativo (SPA) -->
    <div id="app" class="flex w-full h-full">
      <!-- O conteúdo (Sidebar, Dashboard, etc) é injetado aqui pelo JavaScript -->
    </div>

    <!-- Arquivo Lógica Principal -->
    <script type="module" src="js/main.js"></script>
  </body>
</html>
